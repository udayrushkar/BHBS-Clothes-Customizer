

import React, { useState, useRef } from "react";
import { Slider } from "./ui/slider";

export default function Warmerjacket({color1,logos, showSecondColor, secondColor, selectValue}: any) {
  const [selectedLogoIndex, setSelectedLogoIndex] = useState(-1);
  const [sizes, setSizes] = useState([40, 40, 40]);
  
  const [isDragging, setIsDragging] = useState(false);
  const [dragOffset, setDragOffset] = useState({ x: 0, y: 0 });
  const [positions, setPositions] = useState<{ x: number; y: number }[]>([{x:0,y:0},{x:0,y:0},{x:0,y:0}]);
  const [color2, setColor2] = useState("#000000");

  const fileInputRefs = [useRef(null), useRef(null), useRef(null)];
  const canvasRef = useRef(null);

  // Check if a click is on a specific logo
  const getClickedLogoIndex = (e: any) => {
    const rect = e.currentTarget.getBoundingClientRect();
    const mouseX = e.clientX - rect.left;
    const mouseY = e.clientY - rect.top;

    // Check each logo in reverse order (top to bottom in z-index)
    for (let i = logos.length - 1; i >= 0; i--) {
      if (!logos[i]) continue;
      
      const logoRect = {
        x: 200 + positions[i].x - sizes[i] / 2,
        y: 250 + positions[i].y - sizes[i] / 2,
        width: sizes[i],
        height: sizes[i],
      };

      if (
        mouseX >= logoRect.x &&
        mouseX <= logoRect.x + logoRect.width &&
        mouseY >= logoRect.y &&
        mouseY <= logoRect.y + logoRect.height
      ) {
        return i;
      }
    }
    return -1;
  };

  const handleMouseDown = (e: any) => {
    e.preventDefault();
    const clickedLogoIndex = getClickedLogoIndex(e);
    
    if (clickedLogoIndex !== -1) {
      // Select the clicked logo
      setSelectedLogoIndex(clickedLogoIndex);
      
      // Start dragging immediately
      setIsDragging(true);
      const rect = e.currentTarget.getBoundingClientRect();
      const mouseX = e.clientX - rect.left;
      const mouseY = e.clientY - rect.top;

      setDragOffset({
        x: mouseX - (200 + positions[clickedLogoIndex].x),
        y: mouseY - (250 + positions[clickedLogoIndex].y),
      });
    } else {
      // Clicked outside any logo - deselect
      setSelectedLogoIndex(-1);
      setIsDragging(false);
    }
  };

  const handleMouseMove = (e: any) => {
    if (!isDragging || selectedLogoIndex === -1 || !logos[selectedLogoIndex]) return;

    e.preventDefault();
    const rect = e.currentTarget.getBoundingClientRect();
    const mouseX = e.clientX - rect.left;
    const mouseY = e.clientY - rect.top;

    // Direct position update without spread operator for better performance
    setPositions(prevPositions => {
      const newPositions = [...prevPositions];
      newPositions[selectedLogoIndex] = {
        x: mouseX - 200 - dragOffset.x,
        y: mouseY - 250 - dragOffset.y,
      };
      return newPositions;
    });
  };

  const handleMouseUp = () => {
    setIsDragging(false);
  };

  // Handle wheel scrolling for resizing
  const handleWheel = (e: any) => {
    e.preventDefault();
    
    const clickedLogoIndex = getClickedLogoIndex(e);
    if (clickedLogoIndex === -1) return;

    const delta = e.deltaY > 0 ? -5 : 5; // Scroll down = smaller, scroll up = bigger
    const newSizes = [...sizes];
    const newSize = Math.max(20, Math.min(200, sizes[clickedLogoIndex] + delta));
    newSizes[clickedLogoIndex] = newSize;
    setSizes(newSizes);
    
    // Also select the logo being resized
    setSelectedLogoIndex(clickedLogoIndex);
  };

  const resetPosition = () => {
    if (selectedLogoIndex === -1) return;
    
    const newPositions = [...positions];
    const newSizes = [...sizes];
    newPositions[selectedLogoIndex] = { x: 0, y: 0 };
    newSizes[selectedLogoIndex] = 100;
    setPositions(newPositions);
    setSizes(newSizes);
  };

  const handleSizeChange = (value: any) => {
    console.log("sizeChnage called")
    
  
    // Ensure a logo is selected
    if (selectedLogoIndex === -1) return;
  
    const newSize = +value;
  
    // Update sizes array with new value
    setSizes(prevSizes => {
      const updatedSizes = [...prevSizes];
      updatedSizes[selectedLogoIndex] = newSize;
      return updatedSizes;
    });
  };
  
console.log("size",sizes)
  return (
    <>
      <div className="bg-gradient-to-br w-full">
        <div className="max-w-4xl mx-auto">
          <div className="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <div className="lg:col-span-3">
              <div className="">
                <div className="flex justify-center">
                  <div
                    className="relative bg-white overflow-hidden cursor-move select-none"
                    style={{ 
                      width: "1200px",
                      height:"420px"
                    }}
                    onMouseDown={handleMouseDown}
                    onMouseMove={handleMouseMove}
                    onMouseUp={handleMouseUp}
                    onMouseLeave={handleMouseUp}
                    onWheel={handleWheel}
                  >

<svg width="380" height="444" viewBox="0 0 320 350" style={{margin:"auto",marginTop:"-10px",marginLeft:"100px"}} fill="none" xmlns="http://www.w3.org/2000/svg">
<mask id="path-1-outside-1_652_61562" maskUnits="userSpaceOnUse" x="0.0136719" y="-0.00878906" width="283" height="348" fill="black">
<rect fill={color1} x="0.0136719" y="-0.00878906" width="283" height="348"/>
<path d="M129.218 2.15924C125.161 2.57662 120.896 3.32193 119.017 3.97781C112.456 6.21378 108.43 12.5341 104.165 27.2021C103.717 28.7523 103.21 30.1833 103.061 30.392C102.643 30.8989 89.0433 36.2354 77.6202 40.3197C56.4743 47.8922 52.9549 49.5915 48.6004 54.1529C42.6653 60.4136 37.1476 72.1599 31.7195 90.1371C27.1264 105.252 24.3825 118.638 21.9965 137.212C20.6245 147.855 20.3859 149.405 18.5666 157.484C16.8069 165.355 16.3595 168.306 16.0315 173.643C15.8525 176.952 15.5543 178.979 15.0174 181.037C13.377 187.059 13.2279 187.864 13.6156 189.444C14.1227 191.65 14.0332 192.365 13.0191 194.154C11.5577 196.778 10.4542 199.789 9.94714 202.502C9.67872 203.903 8.81379 211.952 7.97869 220.39C6.42778 236.488 6.09971 239.261 4.87688 246.327C2.9979 257 2.01367 265.884 2.01367 271.847C2.01367 276.497 2.5207 278.077 4.87688 280.552C7.47166 283.295 7.44184 282.997 6.01023 293.193C5.41373 297.486 5.29443 298.887 5.56286 299.215C6.12953 299.9 8.12781 300.228 15.9122 301.033C19.9982 301.451 25.0685 301.987 27.1562 302.256C30.6457 302.703 31.0335 302.703 31.451 302.286C31.7791 301.958 32.1072 300.437 32.4651 297.486C32.7633 295.101 33.3002 291.255 33.6581 288.9C34.2248 285.083 34.4037 284.547 35.1493 283.742C36.8195 281.953 37.416 280.015 38.2213 273.606C39.0862 266.629 42.3968 248.265 45.1407 235.207C48.1531 220.777 49.5548 211.774 51.8216 192.514C53.4321 178.979 53.7304 177.31 55.2514 173.434C56.8918 169.201 56.8023 169.559 57.3392 166.339C57.6076 164.848 58.5918 159.422 59.5761 154.354C60.5305 149.256 61.3954 144.784 61.4551 144.367C61.6937 142.965 61.6638 150.18 61.3656 164.639C60.7691 193.647 59.6954 217.557 58.1146 235.892C57.8164 239.41 57.5778 242.332 57.6076 242.362C57.6374 242.391 59.248 241.944 61.2165 241.378C72.1324 238.218 105.268 229.602 109.414 228.886L110.517 228.678L110.726 239.828C110.995 253.75 110.756 282.698 110.309 288.065C109.235 300.914 107.833 306.579 104.582 311.468C99.3926 319.219 90.5047 322.141 76.2781 320.829C69.7166 320.233 61.3059 318.384 53.79 315.94C52.0005 315.344 50.5092 314.926 50.4794 314.956C50.3005 315.224 49.4355 323.989 49.4355 325.51C49.4355 326.911 49.5847 327.567 50.1215 328.342C52.0303 331.204 59.0094 334.752 68.2253 337.614C83.9133 342.443 105.537 345.216 131.842 345.812L140.7 345.991V216.603V87.2154L141.595 87.1856L142.49 87.1558V216.573V345.991L151.974 345.812C174.432 345.335 193.073 343.278 208.075 339.611C222.003 336.213 231.995 331.562 233.874 327.626C234.321 326.672 234.291 326.225 233.725 321.425C233.397 318.563 233.069 315.94 233.009 315.612C232.86 314.986 232.83 314.986 229.251 316.119C219.468 319.249 208.791 321.157 201.126 321.157C186.392 321.127 178.19 315.403 175.029 302.912C174.254 299.9 173.359 292.865 172.911 286.425C172.196 276.199 172.255 229.572 173.001 228.856C173.448 228.409 203.422 235.952 220.184 240.752L225.791 242.362L225.612 239.947C223.823 216.693 223.047 201.101 222.421 177.31C221.944 158.021 221.825 143.741 222.153 145.41C222.302 146.215 223.167 150.866 224.091 155.696C224.986 160.525 225.97 165.772 226.268 167.323C226.567 168.873 227.372 171.437 228.028 172.987C229.609 176.654 229.907 178.383 231.518 191.769C233.933 211.833 235.425 221.314 238.646 237.085C242.016 253.452 244.372 266.868 245.237 274.5C245.834 279.926 246.371 281.506 248.25 283.593C248.607 284.01 249.055 285.083 249.234 285.978C249.532 287.558 250.785 296.591 251.202 300.02C251.53 303.001 251.113 302.882 258.987 301.987C262.745 301.54 267.904 300.974 270.439 300.735C277.18 300.05 278.403 299.602 278.075 297.933C277.478 295.22 276.703 289.883 276.554 287.469C276.285 283.802 276.583 282.669 278.522 280.433C280.282 278.465 280.699 277.63 281.147 275.126C281.773 271.668 280.58 258.848 278.373 245.462C277.239 238.724 276.822 235.266 275.659 222.924C273.511 200.236 273.571 200.683 271.304 195.943C269.724 192.664 269.604 192.037 269.992 188.937C270.171 187.416 270.081 186.641 269.306 183.839C267.904 178.801 267.755 178.025 267.457 173.166C267.129 168.187 266.681 165.474 264.623 156.173C263.878 152.744 262.923 147.646 262.536 144.844C262.148 142.041 261.283 135.9 260.597 131.189C258.569 116.7 255.586 103.046 251.65 89.9284C245.178 68.4929 238.914 56.4485 231.518 51.2014C227.819 48.5779 221.198 45.686 209.298 41.5122C197.487 37.3683 182.634 31.6442 181.113 30.6604C180.726 30.4218 180.338 29.8554 180.219 29.3784C179.592 26.7847 175.924 16.8272 174.79 14.5316C171.599 8.18145 167.99 4.8424 162.771 3.50082C158.387 2.36793 154.837 2.09962 143.235 2.01018C137.002 1.95056 130.709 2.03999 129.218 2.15924ZM127.219 33.5522C127.398 33.7609 127.756 35.2515 127.995 36.8316C128.621 40.6477 130.202 45.4774 132.409 50.2772C136.584 59.3403 137.39 61.2186 138.523 64.4682C139.209 66.3762 139.925 68.9699 140.134 70.2519C140.521 72.5773 140.521 72.5773 139.806 73.1139L139.06 73.6803L138.732 71.6829C138.016 67.36 135.898 61.6658 132.051 53.5865C129.307 47.8624 128.532 45.8947 127.577 42.2576C126.504 38.1732 125.698 33.8503 125.937 33.4628C126.205 33.0454 126.832 33.0752 127.219 33.5522ZM157.462 34.8043C157.164 39.2465 155.464 44.6426 152.123 51.7977C147.679 61.2782 145.174 67.8668 144.518 71.6531L144.16 73.6505L143.414 73.1735C142.997 72.9052 142.609 72.6965 142.579 72.6667C142.52 72.6369 142.818 71.2655 143.235 69.596C144.249 65.452 145.592 61.9639 149.35 53.7355C153.018 45.7755 154.36 42.1383 155.285 37.6366C155.643 35.9074 156.001 34.2081 156.09 33.8205C156.18 33.3137 156.388 33.1646 156.895 33.2243C157.492 33.3137 157.551 33.4628 157.462 34.8043ZM143.146 73.9188C143.623 74.3362 143.683 74.9623 143.683 80.0007C143.683 85.4564 143.653 85.6055 143.027 86.0527C142.162 86.6489 141.028 86.6489 140.163 86.0527C139.537 85.6055 139.507 85.4564 139.507 80.0603C139.507 75.32 139.567 74.4257 140.014 73.9487C140.611 73.263 142.4 73.2331 143.146 73.9188Z"/>
</mask>
<path d="M129.218 2.15924C125.161 2.57662 120.896 3.32193 119.017 3.97781C112.456 6.21378 108.43 12.5341 104.165 27.2021C103.717 28.7523 103.21 30.1833 103.061 30.392C102.643 30.8989 89.0433 36.2354 77.6202 40.3197C56.4743 47.8922 52.9549 49.5915 48.6004 54.1529C42.6653 60.4136 37.1476 72.1599 31.7195 90.1371C27.1264 105.252 24.3825 118.638 21.9965 137.212C20.6245 147.855 20.3859 149.405 18.5666 157.484C16.8069 165.355 16.3595 168.306 16.0315 173.643C15.8525 176.952 15.5543 178.979 15.0174 181.037C13.377 187.059 13.2279 187.864 13.6156 189.444C14.1227 191.65 14.0332 192.365 13.0191 194.154C11.5577 196.778 10.4542 199.789 9.94714 202.502C9.67872 203.903 8.81379 211.952 7.97869 220.39C6.42778 236.488 6.09971 239.261 4.87688 246.327C2.9979 257 2.01367 265.884 2.01367 271.847C2.01367 276.497 2.5207 278.077 4.87688 280.552C7.47166 283.295 7.44184 282.997 6.01023 293.193C5.41373 297.486 5.29443 298.887 5.56286 299.215C6.12953 299.9 8.12781 300.228 15.9122 301.033C19.9982 301.451 25.0685 301.987 27.1562 302.256C30.6457 302.703 31.0335 302.703 31.451 302.286C31.7791 301.958 32.1072 300.437 32.4651 297.486C32.7633 295.101 33.3002 291.255 33.6581 288.9C34.2248 285.083 34.4037 284.547 35.1493 283.742C36.8195 281.953 37.416 280.015 38.2213 273.606C39.0862 266.629 42.3968 248.265 45.1407 235.207C48.1531 220.777 49.5548 211.774 51.8216 192.514C53.4321 178.979 53.7304 177.31 55.2514 173.434C56.8918 169.201 56.8023 169.559 57.3392 166.339C57.6076 164.848 58.5918 159.422 59.5761 154.354C60.5305 149.256 61.3954 144.784 61.4551 144.367C61.6937 142.965 61.6638 150.18 61.3656 164.639C60.7691 193.647 59.6954 217.557 58.1146 235.892C57.8164 239.41 57.5778 242.332 57.6076 242.362C57.6374 242.391 59.248 241.944 61.2165 241.378C72.1324 238.218 105.268 229.602 109.414 228.886L110.517 228.678L110.726 239.828C110.995 253.75 110.756 282.698 110.309 288.065C109.235 300.914 107.833 306.579 104.582 311.468C99.3926 319.219 90.5047 322.141 76.2781 320.829C69.7166 320.233 61.3059 318.384 53.79 315.94C52.0005 315.344 50.5092 314.926 50.4794 314.956C50.3005 315.224 49.4355 323.989 49.4355 325.51C49.4355 326.911 49.5847 327.567 50.1215 328.342C52.0303 331.204 59.0094 334.752 68.2253 337.614C83.9133 342.443 105.537 345.216 131.842 345.812L140.7 345.991V216.603V87.2154L141.595 87.1856L142.49 87.1558V216.573V345.991L151.974 345.812C174.432 345.335 193.073 343.278 208.075 339.611C222.003 336.213 231.995 331.562 233.874 327.626C234.321 326.672 234.291 326.225 233.725 321.425C233.397 318.563 233.069 315.94 233.009 315.612C232.86 314.986 232.83 314.986 229.251 316.119C219.468 319.249 208.791 321.157 201.126 321.157C186.392 321.127 178.19 315.403 175.029 302.912C174.254 299.9 173.359 292.865 172.911 286.425C172.196 276.199 172.255 229.572 173.001 228.856C173.448 228.409 203.422 235.952 220.184 240.752L225.791 242.362L225.612 239.947C223.823 216.693 223.047 201.101 222.421 177.31C221.944 158.021 221.825 143.741 222.153 145.41C222.302 146.215 223.167 150.866 224.091 155.696C224.986 160.525 225.97 165.772 226.268 167.323C226.567 168.873 227.372 171.437 228.028 172.987C229.609 176.654 229.907 178.383 231.518 191.769C233.933 211.833 235.425 221.314 238.646 237.085C242.016 253.452 244.372 266.868 245.237 274.5C245.834 279.926 246.371 281.506 248.25 283.593C248.607 284.01 249.055 285.083 249.234 285.978C249.532 287.558 250.785 296.591 251.202 300.02C251.53 303.001 251.113 302.882 258.987 301.987C262.745 301.54 267.904 300.974 270.439 300.735C277.18 300.05 278.403 299.602 278.075 297.933C277.478 295.22 276.703 289.883 276.554 287.469C276.285 283.802 276.583 282.669 278.522 280.433C280.282 278.465 280.699 277.63 281.147 275.126C281.773 271.668 280.58 258.848 278.373 245.462C277.239 238.724 276.822 235.266 275.659 222.924C273.511 200.236 273.571 200.683 271.304 195.943C269.724 192.664 269.604 192.037 269.992 188.937C270.171 187.416 270.081 186.641 269.306 183.839C267.904 178.801 267.755 178.025 267.457 173.166C267.129 168.187 266.681 165.474 264.623 156.173C263.878 152.744 262.923 147.646 262.536 144.844C262.148 142.041 261.283 135.9 260.597 131.189C258.569 116.7 255.586 103.046 251.65 89.9284C245.178 68.4929 238.914 56.4485 231.518 51.2014C227.819 48.5779 221.198 45.686 209.298 41.5122C197.487 37.3683 182.634 31.6442 181.113 30.6604C180.726 30.4218 180.338 29.8554 180.219 29.3784C179.592 26.7847 175.924 16.8272 174.79 14.5316C171.599 8.18145 167.99 4.8424 162.771 3.50082C158.387 2.36793 154.837 2.09962 143.235 2.01018C137.002 1.95056 130.709 2.03999 129.218 2.15924ZM127.219 33.5522C127.398 33.7609 127.756 35.2515 127.995 36.8316C128.621 40.6477 130.202 45.4774 132.409 50.2772C136.584 59.3403 137.39 61.2186 138.523 64.4682C139.209 66.3762 139.925 68.9699 140.134 70.2519C140.521 72.5773 140.521 72.5773 139.806 73.1139L139.06 73.6803L138.732 71.6829C138.016 67.36 135.898 61.6658 132.051 53.5865C129.307 47.8624 128.532 45.8947 127.577 42.2576C126.504 38.1732 125.698 33.8503 125.937 33.4628C126.205 33.0454 126.832 33.0752 127.219 33.5522ZM157.462 34.8043C157.164 39.2465 155.464 44.6426 152.123 51.7977C147.679 61.2782 145.174 67.8668 144.518 71.6531L144.16 73.6505L143.414 73.1735C142.997 72.9052 142.609 72.6965 142.579 72.6667C142.52 72.6369 142.818 71.2655 143.235 69.596C144.249 65.452 145.592 61.9639 149.35 53.7355C153.018 45.7755 154.36 42.1383 155.285 37.6366C155.643 35.9074 156.001 34.2081 156.09 33.8205C156.18 33.3137 156.388 33.1646 156.895 33.2243C157.492 33.3137 157.551 33.4628 157.462 34.8043ZM143.146 73.9188C143.623 74.3362 143.683 74.9623 143.683 80.0007C143.683 85.4564 143.653 85.6055 143.027 86.0527C142.162 86.6489 141.028 86.6489 140.163 86.0527C139.537 85.6055 139.507 85.4564 139.507 80.0603C139.507 75.32 139.567 74.4257 140.014 73.9487C140.611 73.263 142.4 73.2331 143.146 73.9188Z" fill={color1}/>
<path d="M129.218 2.15924C125.161 2.57662 120.896 3.32193 119.017 3.97781C112.456 6.21378 108.43 12.5341 104.165 27.2021C103.717 28.7523 103.21 30.1833 103.061 30.392C102.643 30.8989 89.0433 36.2354 77.6202 40.3197C56.4743 47.8922 52.9549 49.5915 48.6004 54.1529C42.6653 60.4136 37.1476 72.1599 31.7195 90.1371C27.1264 105.252 24.3825 118.638 21.9965 137.212C20.6245 147.855 20.3859 149.405 18.5666 157.484C16.8069 165.355 16.3595 168.306 16.0315 173.643C15.8525 176.952 15.5543 178.979 15.0174 181.037C13.377 187.059 13.2279 187.864 13.6156 189.444C14.1227 191.65 14.0332 192.365 13.0191 194.154C11.5577 196.778 10.4542 199.789 9.94714 202.502C9.67872 203.903 8.81379 211.952 7.97869 220.39C6.42778 236.488 6.09971 239.261 4.87688 246.327C2.9979 257 2.01367 265.884 2.01367 271.847C2.01367 276.497 2.5207 278.077 4.87688 280.552C7.47166 283.295 7.44184 282.997 6.01023 293.193C5.41373 297.486 5.29443 298.887 5.56286 299.215C6.12953 299.9 8.12781 300.228 15.9122 301.033C19.9982 301.451 25.0685 301.987 27.1562 302.256C30.6457 302.703 31.0335 302.703 31.451 302.286C31.7791 301.958 32.1072 300.437 32.4651 297.486C32.7633 295.101 33.3002 291.255 33.6581 288.9C34.2248 285.083 34.4037 284.547 35.1493 283.742C36.8195 281.953 37.416 280.015 38.2213 273.606C39.0862 266.629 42.3968 248.265 45.1407 235.207C48.1531 220.777 49.5548 211.774 51.8216 192.514C53.4321 178.979 53.7304 177.31 55.2514 173.434C56.8918 169.201 56.8023 169.559 57.3392 166.339C57.6076 164.848 58.5918 159.422 59.5761 154.354C60.5305 149.256 61.3954 144.784 61.4551 144.367C61.6937 142.965 61.6638 150.18 61.3656 164.639C60.7691 193.647 59.6954 217.557 58.1146 235.892C57.8164 239.41 57.5778 242.332 57.6076 242.362C57.6374 242.391 59.248 241.944 61.2165 241.378C72.1324 238.218 105.268 229.602 109.414 228.886L110.517 228.678L110.726 239.828C110.995 253.75 110.756 282.698 110.309 288.065C109.235 300.914 107.833 306.579 104.582 311.468C99.3926 319.219 90.5047 322.141 76.2781 320.829C69.7166 320.233 61.3059 318.384 53.79 315.94C52.0005 315.344 50.5092 314.926 50.4794 314.956C50.3005 315.224 49.4355 323.989 49.4355 325.51C49.4355 326.911 49.5847 327.567 50.1215 328.342C52.0303 331.204 59.0094 334.752 68.2253 337.614C83.9133 342.443 105.537 345.216 131.842 345.812L140.7 345.991V216.603V87.2154L141.595 87.1856L142.49 87.1558V216.573V345.991L151.974 345.812C174.432 345.335 193.073 343.278 208.075 339.611C222.003 336.213 231.995 331.562 233.874 327.626C234.321 326.672 234.291 326.225 233.725 321.425C233.397 318.563 233.069 315.94 233.009 315.612C232.86 314.986 232.83 314.986 229.251 316.119C219.468 319.249 208.791 321.157 201.126 321.157C186.392 321.127 178.19 315.403 175.029 302.912C174.254 299.9 173.359 292.865 172.911 286.425C172.196 276.199 172.255 229.572 173.001 228.856C173.448 228.409 203.422 235.952 220.184 240.752L225.791 242.362L225.612 239.947C223.823 216.693 223.047 201.101 222.421 177.31C221.944 158.021 221.825 143.741 222.153 145.41C222.302 146.215 223.167 150.866 224.091 155.696C224.986 160.525 225.97 165.772 226.268 167.323C226.567 168.873 227.372 171.437 228.028 172.987C229.609 176.654 229.907 178.383 231.518 191.769C233.933 211.833 235.425 221.314 238.646 237.085C242.016 253.452 244.372 266.868 245.237 274.5C245.834 279.926 246.371 281.506 248.25 283.593C248.607 284.01 249.055 285.083 249.234 285.978C249.532 287.558 250.785 296.591 251.202 300.02C251.53 303.001 251.113 302.882 258.987 301.987C262.745 301.54 267.904 300.974 270.439 300.735C277.18 300.05 278.403 299.602 278.075 297.933C277.478 295.22 276.703 289.883 276.554 287.469C276.285 283.802 276.583 282.669 278.522 280.433C280.282 278.465 280.699 277.63 281.147 275.126C281.773 271.668 280.58 258.848 278.373 245.462C277.239 238.724 276.822 235.266 275.659 222.924C273.511 200.236 273.571 200.683 271.304 195.943C269.724 192.664 269.604 192.037 269.992 188.937C270.171 187.416 270.081 186.641 269.306 183.839C267.904 178.801 267.755 178.025 267.457 173.166C267.129 168.187 266.681 165.474 264.623 156.173C263.878 152.744 262.923 147.646 262.536 144.844C262.148 142.041 261.283 135.9 260.597 131.189C258.569 116.7 255.586 103.046 251.65 89.9284C245.178 68.4929 238.914 56.4485 231.518 51.2014C227.819 48.5779 221.198 45.686 209.298 41.5122C197.487 37.3683 182.634 31.6442 181.113 30.6604C180.726 30.4218 180.338 29.8554 180.219 29.3784C179.592 26.7847 175.924 16.8272 174.79 14.5316C171.599 8.18145 167.99 4.8424 162.771 3.50082C158.387 2.36793 154.837 2.09962 143.235 2.01018C137.002 1.95056 130.709 2.03999 129.218 2.15924ZM127.219 33.5522C127.398 33.7609 127.756 35.2515 127.995 36.8316C128.621 40.6477 130.202 45.4774 132.409 50.2772C136.584 59.3403 137.39 61.2186 138.523 64.4682C139.209 66.3762 139.925 68.9699 140.134 70.2519C140.521 72.5773 140.521 72.5773 139.806 73.1139L139.06 73.6803L138.732 71.6829C138.016 67.36 135.898 61.6658 132.051 53.5865C129.307 47.8624 128.532 45.8947 127.577 42.2576C126.504 38.1732 125.698 33.8503 125.937 33.4628C126.205 33.0454 126.832 33.0752 127.219 33.5522ZM157.462 34.8043C157.164 39.2465 155.464 44.6426 152.123 51.7977C147.679 61.2782 145.174 67.8668 144.518 71.6531L144.16 73.6505L143.414 73.1735C142.997 72.9052 142.609 72.6965 142.579 72.6667C142.52 72.6369 142.818 71.2655 143.235 69.596C144.249 65.452 145.592 61.9639 149.35 53.7355C153.018 45.7755 154.36 42.1383 155.285 37.6366C155.643 35.9074 156.001 34.2081 156.09 33.8205C156.18 33.3137 156.388 33.1646 156.895 33.2243C157.492 33.3137 157.551 33.4628 157.462 34.8043ZM143.146 73.9188C143.623 74.3362 143.683 74.9623 143.683 80.0007C143.683 85.4564 143.653 85.6055 143.027 86.0527C142.162 86.6489 141.028 86.6489 140.163 86.0527C139.537 85.6055 139.507 85.4564 139.507 80.0603C139.507 75.32 139.567 74.4257 140.014 73.9487C140.611 73.263 142.4 73.2331 143.146 73.9188Z" stroke="black" stroke-width="3" mask="url(#path-1-outside-1_652_61562)"/>
<path d="M51.9482 314.377C62.065 318.128 76.3659 320.75 84.5186 320.326H84.5205C92.0642 319.915 97.3375 317.959 101.342 313.958L101.726 313.564L101.727 313.562C107.289 307.672 108.985 300.323 109.816 279.424L109.895 277.359V277.356C110.059 272.345 110.082 260.622 110.011 250.171C109.975 244.943 109.916 240.026 109.84 236.419C109.802 234.616 109.76 233.136 109.714 232.105C109.691 231.592 109.666 231.181 109.64 230.894C109.627 230.754 109.612 230.623 109.593 230.52C109.584 230.474 109.568 230.395 109.537 230.312C109.524 230.277 109.487 230.185 109.41 230.09C109.348 230.013 109.146 229.805 108.816 229.808V229.806C108.789 229.806 108.764 229.811 108.743 229.812C108.733 229.814 108.722 229.812 108.711 229.813V229.814C108.697 229.816 108.687 229.816 108.686 229.816C108.665 229.82 108.646 229.823 108.631 229.826C108.599 229.832 108.562 229.841 108.522 229.85C108.442 229.868 108.332 229.894 108.199 229.926C107.933 229.99 107.56 230.082 107.11 230.193C106.212 230.417 104.994 230.723 103.684 231.051C91.5113 234.093 78.3815 237.523 69.5146 240C64.2164 241.479 59.3358 242.811 58.5977 243.004V243.003C58.0733 243.127 57.536 243.265 57.1699 243.631C56.7804 244.02 56.6962 244.551 56.6279 244.988L56.627 244.993C56.5331 245.619 55.8443 252.959 55.1006 261.315C53.4307 280.064 51.522 299.168 50.0615 311.89V311.895C50.0336 312.153 50.0041 312.428 50.0176 312.668C50.0328 312.94 50.1046 313.236 50.3262 313.504C50.5232 313.742 50.7862 313.891 51.0234 314.003C51.2665 314.118 51.5789 314.237 51.9424 314.375L51.9482 314.377Z" fill={color1} stroke="black" stroke-width="1.5"/>
<path d="M191.045 319.045C199.969 321.611 212.908 320.306 228.432 315.402H228.431L232.875 314.001L233.455 313.818L233.396 313.213L233.188 311.111L233.188 311.11C233.098 309.964 232.41 303.36 231.665 296.48C230.473 285.458 229.549 275.567 227.372 250.763L227.371 250.762C227.207 248.927 227.05 247.247 226.927 246.021C226.865 245.408 226.812 244.905 226.77 244.551C226.749 244.376 226.729 244.23 226.713 244.123C226.705 244.072 226.696 244.016 226.685 243.967C226.68 243.945 226.67 243.903 226.654 243.857C226.647 243.836 226.63 243.789 226.601 243.735C226.592 243.72 226.51 243.562 226.322 243.449C226.276 243.421 226.243 243.403 226.239 243.401C226.211 243.388 226.183 243.377 226.163 243.369C226.121 243.353 226.072 243.335 226.021 243.318C225.919 243.284 225.78 243.241 225.611 243.189C225.271 243.086 224.787 242.943 224.184 242.77C222.975 242.422 221.274 241.944 219.257 241.385C215.221 240.266 209.909 238.819 204.718 237.433L204.717 237.434C196.268 235.166 186.062 232.6 174.963 229.945H174.962L174.336 229.796L173.424 229.579L173.412 230.516L173.293 239.848V239.849C173.084 259.677 173.189 273.894 173.689 284.166C174.189 294.42 175.086 300.81 176.494 304.942C177.789 308.748 179.514 311.731 181.895 314.041C184.277 316.352 187.272 317.946 191.042 319.045H191.045Z" fill={color1} stroke="black" stroke-width="1.5"/>
</svg>


                    {logos.map((logo: any, index: any) => (
                      logo && (
                        <img
                          key={index}
                          src={logo}
                          alt={`Logo ${index + 1}`}
                          className={`absolute pointer-events-none select-none ${
                            selectedLogoIndex === index 
                              ? 'ring-2 ring-blue-500 ring-opacity-50' 
                              : ''
                          }`}
                          style={{
                            width: `${sizes[index]}px`,
                            height: `${sizes[index]}px`,
                            left: `${200 + positions[index].x - sizes[index] / 2}px`,
                            top: `${250 + positions[index].y - sizes[index] / 2}px`,
                            objectFit: "contain",
                            transform: selectedLogoIndex === index && isDragging 
                              ? 'scale(1.01)' 
                              : 'scale(1)',
                            zIndex: selectedLogoIndex === index ? 10 : 1,
                           
                          }}
                          draggable="false"
                        />
                      )
                    ))}

                    {selectedLogoIndex !== -1 && logos[selectedLogoIndex] && (
                      <div className="absolute bottom-6 left-4 text-xs text-gray-500 bg-white bg-opacity-90 px-3 py-2 rounded-lg shadow-sm" style={{width:"510px"}}>
                        <div>Click logo to select • Drag to move • Scroll to resize</div>
                        <div className="text-blue-600 font-medium">
                          Logo {selectedLogoIndex + 1} selected (Size: {sizes[selectedLogoIndex]}px)
                        </div>
                      </div>
                    )}
                    {selectedLogoIndex !== -1 && logos[selectedLogoIndex] && (
                      <Slider  onValueChange={(val)=>{
                        handleSizeChange(val[0])
                      }} className="absolute bottom-2 left-4" defaultValue={[33]} max={100} step={1} />
                    )}

                  
                  </div>
                </div>
              </div>
            </div>
          </div>

          <canvas ref={canvasRef} className="hidden" />
        </div>
      </div>
    </>
  );
}